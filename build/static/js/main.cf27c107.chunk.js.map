{"version":3,"sources":["components/Numbers.js","components/Form.js","components/Filter.js","components/Error.js","components/Notification.js","services/phonebook.js","App.js","index.js"],"names":["Numbers","persons","newFilter","deleteName","filter","person","name","toUpperCase","includes","map","key","number","onClick","id","Form","props","onSubmit","addName","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Filter","handleFilterChange","Error","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Notification","baseUrl","axios","get","newObject","post","delete","modifiedObject","put","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","errorMessage","setErrorMessage","notification","setNotification","useEffect","pbService","then","response","data","setTimeout","event","target","preventDefault","alert","nameObject","found","i","length","window","confirm","catch","error","concat","JSON","stringify","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cf27c107.chunk.js","sourcesContent":["import React from 'react'\r\nconst Numbers = ({ persons, newFilter, deleteName }) => {\r\n\r\n    return (\r\n        <>\r\n            {persons\r\n                .filter(function (person) { return person.name.toUpperCase().includes(newFilter.toUpperCase()) })\r\n                .map(person => <p key={person.name}>{person.name} {person.number} <button onClick={() => deleteName(person.id, person.name)}>delete</button></p>)}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Numbers","import React from 'react'\r\n\r\nconst Form = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.addName}>\r\n            <div>name: <input value={props.newName} onChange={props.handleNameChange} /></div>\r\n            <div>number: <input value={props.newNumber} onChange={props.handleNumberChange} /></div>\r\n            <div><button type=\"submit\">add</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <p>filter shown with <input value={props.newFilter} onChange={props.handleFilterChange}></input></p>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Error = ({ message }) => {\r\n    const notificationStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px'\r\n      }\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Error","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    const notificationStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px'\r\n      }\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import axios from 'axios'\r\n//onst baseUrl = 'http://localhost:3001/api/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  axios.delete(baseUrl+'/'+id)\r\n}\r\n\r\nconst modifyPerson = (id, modifiedObject) => {\r\n  return axios.put(baseUrl+'/'+id, modifiedObject)\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create,\r\n  deletePerson,\r\n  modifyPerson\r\n}","import React, { useState, useEffect } from 'react'\nimport Numbers from './components/Numbers'\nimport Form from './components/Form'\nimport Filter from './components/Filter'\nimport Error from './components/Error'\nimport Notification from './components/Notification'\nimport pbService from './services/phonebook'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [notification, setNotification] = useState(null)\n\n  useEffect(() => {\n    pbService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  useEffect(() => {\n    setTimeout(() => {\n      setErrorMessage(null)\n      setNotification(null)\n    }, 5000)\n  }, [errorMessage, notification])\n\n  const addName = (event) => {\n    event.preventDefault()\n\n    if (newName === '' || newNumber === '') {\n      alert('input name and number')\n    } else {\n\n      const nameObject = {\n        name: newName,\n        number: newNumber\n      }\n      let id\n      let found = false\n      for (let i = 0; i < persons.length; i++) {\n        if (persons[i].name.toUpperCase() === newName.toUpperCase()) {\n          found = true\n          id = persons[i].id\n          break;\n        }\n      }\n      if (found === true) {\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n          pbService\n            .modifyPerson(id, nameObject)\n            .then(response => {\n              setPersons(persons.map(person => person.id !== id ? person : response.data))\n              setNotification(`Information of '${newName}' was modified`)\n            })\n            .catch(error => {\n              setErrorMessage(\n                `Information of '${newName}' has already been removed from server`\n              )\n              setPersons(persons.filter(person => person.id !== id))\n            })\n        }\n      }\n\n      if (found === false) {\n        pbService\n          .create(nameObject)\n          .then(response => {\n            setPersons(persons.concat(response.data))\n            setNotification(`Added '${newName}'`)\n          })\n          .catch(error => {\n            setErrorMessage(`Person validation failed: ${JSON.stringify(error.response.data)}`)\n          })\n      }\n\n      setNewName('')\n      setNewNumber('')\n    }\n  }\n\n  const deleteName = (id, name) => {\n    if (window.confirm(\"Delete \" + name + \" ?\")) {\n      pbService.deletePerson(id)\n      setPersons(persons.filter(person => person.id !== id))\n      setNotification(`Person '${name}' was deleted`)\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Error message={errorMessage} />\n      <Notification message={notification} />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <h2>add a new</h2>\n      <Form addName={addName} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Numbers persons={persons} newFilter={newFilter} deleteName={deleteName} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}